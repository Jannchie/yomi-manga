@import '@unocss/reset/tailwind-v4.css';
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');

:root {
  --bg: #f5f4f2;
  --border: #e1e0dd;
  --ink: #1c1d20;
  --muted: #5f646c;
  --surface: #fbfbfa;
  --surface-muted: #efeeec;
  --skeleton-line-height: 1.25em;
  --skeleton-line-gap: 0.5em;
  color-scheme: light;
}

:root.platform-windows {
  scrollbar-gutter: stable;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1011;
    --border: #23262a;
    --ink: #e6e7ea;
    --muted: #9aa1a9;
    --surface: #141517;
    --surface-muted: #1b1c1f;
    color-scheme: dark;
  }
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Space Grotesk', sans-serif;
  color: var(--ink);
  background-color: var(--bg);
  line-height: 1.6;
}

@keyframes skeleton-pulse {
  0% {
    opacity: 0.55;
  }
  50% {
    opacity: 0.9;
  }
  100% {
    opacity: 0.55;
  }
}

.skeleton,
.manga-placeholder {
  background-color: var(--surface-muted);
  animation: skeleton-pulse 1.4s ease-in-out infinite;
}

.skeleton-line {
  display: block;
  width: 100%;
  height: var(--skeleton-line-height);
}

.skeleton-lines {
  display: flex;
  flex-direction: column;
  gap: var(--skeleton-line-gap);
}

@media (prefers-reduced-motion: reduce) {
  .skeleton,
  .manga-placeholder {
    animation: none;
  }
}

a {
  color: inherit;
}

img {
  display: block;
}

.locale-select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  border: 0;
  border-radius: 0;
  outline: none;
  box-shadow: none;
  background-color: transparent;
  color: var(--muted);
  min-width: 6rem;
  padding-right: 0;
  background-image: none;
}

.locale-select option {
  background-color: var(--surface);
  color: var(--ink);
}

.type-filter-row {
  gap: 0;
}

.type-filter-row--bordered .type-filter-btn:first-child {
  border-left: 1px solid var(--border);
}

.search-bar {
  border-bottom: 1px solid var(--border);
}

.search-input {
  width: 100%;
  border: 1px solid var(--border);
  border-radius: 0;
  background-color: var(--surface);
  color: var(--ink);
  padding: 0.5rem 0.75rem;
  font: inherit;
}

.search-input::placeholder {
  color: var(--muted);
}

.search-input:focus {
  outline: none;
  border-color: var(--ink);
}

.type-filter-bar {
  border-bottom: 1px solid var(--border);
}

.type-filter-btn {
  border: 0;
  border-right: 1px solid var(--border);
  border-radius: 0;
  cursor: pointer;
  background-color: transparent;
  color: var(--muted);
  transition: background-color 150ms ease, color 150ms ease;
}

.type-filter-btn:not(.type-filter-btn--active):hover {
  background-color: var(--muted);
  color: var(--surface);
}

.type-filter-btn--active {
  background-color: var(--ink);
  color: var(--surface);
}

.content-frame {
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
}

.viewer-meta {
  margin-left: 1rem;
}

.viewer-header {
  border-bottom: 1px solid var(--border);
}

.manga-grid {
  --grid-columns: 2;
  --grid-gap-x: 1rem;
  --grid-gap-y: 1rem;
  --grid-line: 1px;
  --card-meta-height: 4rem;
  --grid-col: calc((100% - (var(--grid-columns) - 1) * var(--grid-gap-x)) / var(--grid-columns));
  --grid-row: calc(var(--grid-col) + (var(--grid-col) / 2) + var(--card-meta-height));
  --grid-x-step: calc(var(--grid-col) + var(--grid-gap-x));
  --grid-y-step: calc(var(--grid-row) + var(--grid-gap-y));
  display: flex;
  flex-wrap: wrap;
  column-gap: var(--grid-gap-x);
  row-gap: var(--grid-gap-y);
  border-bottom: 1px solid var(--border);
  margin-bottom: 1rem;
  background-image:
    repeating-linear-gradient(
      to right,
      transparent 0 calc(var(--grid-col)),
      var(--border) calc(var(--grid-col)) calc(var(--grid-col) + var(--grid-line)),
      transparent calc(var(--grid-col) + var(--grid-line)) var(--grid-x-step)
    ),
    repeating-linear-gradient(
      to bottom,
      transparent 0 calc(var(--grid-row)),
      var(--border) calc(var(--grid-row)) calc(var(--grid-row) + var(--grid-line)),
      transparent calc(var(--grid-row) + var(--grid-line)) var(--grid-y-step)
    ),
    repeating-linear-gradient(
      to right,
      transparent 0 calc(var(--grid-col) + var(--grid-gap-x) - var(--grid-line)),
      var(--border) calc(var(--grid-col) + var(--grid-gap-x) - var(--grid-line))
        calc(var(--grid-col) + var(--grid-gap-x)),
      transparent calc(var(--grid-col) + var(--grid-gap-x)) var(--grid-x-step)
    ),
    repeating-linear-gradient(
      to bottom,
      transparent 0 calc(var(--grid-row) + var(--grid-gap-y) - var(--grid-line)),
      var(--border) calc(var(--grid-row) + var(--grid-gap-y) - var(--grid-line))
        calc(var(--grid-row) + var(--grid-gap-y)),
      transparent calc(var(--grid-row) + var(--grid-gap-y)) var(--grid-y-step)
    );
}

.manga-card {
  box-sizing: border-box;
  flex: 0 0 var(--grid-col);
  max-width: var(--grid-col);
  height: var(--grid-row);
}

.manga-card--placeholder {
  pointer-events: none;
}

@media (min-width: 1024px) {
  .manga-grid {
    --grid-columns: 3;
  }
}

@media (min-width: 1280px) {
  .manga-grid {
    --grid-columns: 4;
  }
}

.manga-card-meta {
  box-sizing: border-box;
  height: var(--card-meta-height);
  overflow: hidden;
}

.manga-image {
  image-rendering: auto;
  image-rendering: smooth;
  image-rendering: high-quality;
}

.manga-image-cover {
  transform: translateZ(0);
}

.app-header {
  border-bottom: 1px solid var(--border);
  background-color: var(--surface);
}

.app-shell .auxline-header {
  background-color: var(--surface);
}

.app-shell .auxline-header > div,
.app-shell .auxline-main,
.app-shell .auxline-footer > div {
  width: 100%;
  max-width: none;
  border-left: 0;
  border-right: 0;
}

.app-shell .auxline-main > * {
  border-bottom: 0;
}

.app-shell .auxline-header-main {
  flex: 1 1 auto;
  min-width: 0;
}
